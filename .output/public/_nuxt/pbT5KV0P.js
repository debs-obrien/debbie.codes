import{a as x,c as y,D as c,O as _,P as b,f as E,k as A,i as l,X as B,Y as C,G as D,L as M}from"./DR8EPS0E.js";import{u}from"./CWqO_-cG.js";import{q as d}from"./CWlV9eHA.js";const S={class:"max-w-2xl mx-auto mb-8"},k={class:"relative"},q=x({__name:"BlogSearch",props:{articles:{},showImages:{type:Boolean}},emits:["update:filteredArticles"],async setup(p,{emit:h}){let e,r;const m=p,f=h,t=y(""),{data:w}=([e,r]=c(()=>u("title-search",()=>d("blog").where("title","LIKE",`%${t.value}%`).order("date","DESC").all(),{watch:[t],immediate:!1})),e=await e,r(),e),{data:g}=([e,r]=c(()=>u("tag-search",()=>d("blog").where("tags","LIKE",`%${t.value}%`).order("date","DESC").all(),{watch:[t],immediate:!1})),e=await e,r(),e),v=_(()=>{if(!t.value)return m.articles;const o=w.value||[],s=g.value||[],i=new Set,n=[];return o.forEach(a=>{a.path&&(i.add(a.path),n.push(a))}),s.forEach(a=>{a.path&&!i.has(a.path)&&n.push(a)}),n});return b(v,o=>{f("update:filteredArticles",o)},{immediate:!0}),(o,s)=>(A(),E("div",S,[l("div",k,[B(l("input",{"onUpdate:modelValue":s[0]||(s[0]=i=>M(t)?t.value=i:null),type:"search",placeholder:"Search articles...",class:"w-full px-4 py-2 pl-10 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-800"},null,512),[[C,D(t)]]),s[1]||(s[1]=l("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[l("svg",{class:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1))])]))}});export{q as _};
